format PE CONSOLE
entry start

section '.code' executable readable writeable
start:
    mov edx, a
    mov esi, b
    mov ecx, 0Eh

    GLP:
    mov ax, word [esi]
    xor word [edx], ax
    add dx, 2
    add si, 2
    loop GLP

    sub esp, 8
    push aform
    push a
    call dword [printf]
    ret

a  db 0xbe, 0x4e, 0xf1, 0x21, 0x10, 0x10, 0x09, 0x28, 0x78, 0x6c, 0x62, 0x5f, 0x4f, 0x65, 0x6d, 0x57, 0x36, 0x72, 0x31, 0x5f, 0x31, 0x8b, 0x97, 0x30, 0x53, 0x64, 0x6d, 0x00
b  db 0xeb, 0x3c, 0x90, 0x4d, 0x53, 0x44, 0x4f, 0x53, 0x35, 0x2e, 0x30, 0x00, 0x02, 0x04, 0x01, 0x00, 0x02, 0x00, 0x02, 0x00, 0x00, 0xf8, 0xc8, 0x00, 0x3f, 0x00, 0x10, 0x00
aform db "%s"

section '.idata' import data readable writeable
dd 0,0,0,RVA msvcrt,RVA m_table
dd 0,0,0,0,0

m_table:
  printf dq RVA _printf
  dq 0
msvcrt db 'msvcrt.dll',0
_printf dw 0
   db 'printf',0